#!/usr/bin/env node
require('dotenv').load();

const { usage, args } = require('./options');
const Render = require('./render');
const Commands = require('./commands');
// Load environment variables

class CLI extends Commands {
  constructor(args) {
    super();
    this.args = args || {};
    this.indexer = {};
    this.render = new Render();
    this.run();
  }

  async run() {
    const command = this[this.args._[0]];
    if (!command && !(command instanceof Commands)) {
      return console.log(usage);
    }
    return command(args);
  }
}

new CLI(args);
